name = "aura-api"
main = "./src/index.ts"
compatibility_date = "2025-01-01"
compatibility_flags = ["nodejs_als"]

[vars]
BETTER_AUTH_URL = "http://localhost:8787"
BETTER_AUTH_TRUSTED_ORIGINS = "http://localhost:5173,chrome-extension://*"

[env.production]

# Production-specific environment variables
[env.production.vars]
BETTER_AUTH_URL = "https://aura-api.phyzess.me"
BETTER_AUTH_TRUSTED_ORIGINS = "chrome-extension://ojpnnkcmnbpnkhlohnkbdopkhfgjfhph"

# Optional: use a separate D1 database for production (uncomment and fill if needed)
[[env.production.d1_databases]]
binding = "DB"
database_name = "aura-db"
database_id = "aae5d757-6146-4580-9d8d-f2f06662465c"
migrations_dir = "drizzle"

[[d1_databases]]
binding = "DB"
database_name = "aura-db-dev"
database_id = "00000000-0000-0000-0000-000000000000"
migrations_dir = "drizzle"

